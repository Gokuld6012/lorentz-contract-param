parameter key_hash;
storage (pair timestamp
              (pair mutez
                    key_hash));
code { PUSH (lambda int int) { PUSH (lambda int int) { UNIT; DROP }; DROP };
       DROP;
       DUP;
       CDR;
       CAR;
       DUP;
       NOW;
       COMPARE;
       LE;
       IF {  }
          { PUSH string "Auction has ended";
            FAILWITH };
       SWAP;
       DUP;
       CAR;
       DIP { CDR;
             CDR };
       AMOUNT;
       PAIR;
       SWAP;
       DIP { SWAP;
             PAIR };
       DUP;
       CAR;
       AMOUNT;
       COMPARE;
       GT;
       IF {  }
          { PUSH string "New big must be greater than the greatest one";
            FAILWITH };
       DUP;
       CAR;
       DIP { CDR;
             IMPLICIT_ACCOUNT };
       UNIT;
       TRANSFER_TOKENS;
       NIL operation;
       SWAP;
       CONS;
       PAIR };
